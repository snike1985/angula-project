<div class="workflow-group">

  <header>

    <h3 class="workflow-group__title">

      {{ texts[ 'payment' ][ 0 ] }}

      <span *ngFor="let method of workflowGroup[ 'paymentMethods' ]; let first = first; let last = last;"><span *ngIf="!first && !last">,</span> <span *ngIf="!first && last">{{ texts[ 'payment' ][ 1 ] }}</span> {{ method[ 'name' ] }}</span></h3>

  </header>

  <div class="workflow-group__controls">

    <div>

      <switch-control
              *ngIf="fc"
              [disabledState]="false"
              [formControl]="fc"
              [class]="">
      </switch-control>

    </div>

    <div>

      <button class="workflow-group__edit" [activeEffect]="'blue'" (click)="editWorkflowGroup()">{{ texts[ 'editBtn' ] }}</button>
      <button class="workflow-group__delete" [activeEffect]="'red'" (click)="askToDelete()">{{ texts[ 'deleteBtn' ] }}</button>

    </div>

  </div>

  <div *ngIf="workflowGroup[ 'workflows' ] && workflowGroup[ 'workflows' ].length">

    <workflow *ngFor="let workflow of workflowGroup[ 'workflows' ]; let index = i;"
              [language]="language"
              [workflows]="workflowGroup[ 'workflows' ]"
              [index]="i"
              [paymentMethods]="workflowGroup[ 'paymentMethods' ]"
              [workflow]="workflow"></workflow>

  </div>

  <div class="workflow-group__empty"
       *ngIf="!workflowGroup[ 'workflows' ] || !workflowGroup[ 'workflows' ].length">

    <svg width="60px" height="60px" viewBox="0 0 60 60" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
      <g id="UI-Kit" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="workflow-groups" fill-rule="nonzero" fill="#E8EBF1">
          <path d="M21.247965,20.5 C20.3598794,23.9504544 17.2276789,26.5 13.5,26.5 C9.081722,26.5 5.5,22.918278 5.5,18.5 C5.5,14.081722 9.081722,10.5 13.5,10.5 C16.8573776,10.5 19.7317082,12.5681697 20.918483,15.5 L45.5,15.5 L45.5,20.5 L31.5,20.5 L31.5,33.752035 C34.9504544,34.6401206 37.5,37.7723211 37.5,41.5 C37.5,45.918278 33.918278,49.5 29.5,49.5 C25.081722,49.5 21.5,45.918278 21.5,41.5 C21.5,38.1426224 23.5681697,35.2682918 26.5,34.081517 L26.5,20.5 L21.247965,20.5 Z M45.5,33.752035 L45.5,23.5 L50.5,23.5 L50.5,34.081517 C53.4318303,35.2682918 55.5,38.1426224 55.5,41.5 C55.5,45.918278 51.918278,49.5 47.5,49.5 C43.081722,49.5 39.5,45.918278 39.5,41.5 C39.5,37.7723211 42.0495456,34.6401206 45.5,33.752035 Z M29.5,44.5 C31.1568542,44.5 32.5,43.1568542 32.5,41.5 C32.5,39.8431458 31.1568542,38.5 29.5,38.5 C27.8431458,38.5 26.5,39.8431458 26.5,41.5 C26.5,43.1568542 27.8431458,44.5 29.5,44.5 Z M47.5,44.5 C49.1568542,44.5 50.5,43.1568542 50.5,41.5 C50.5,39.8431458 49.1568542,38.5 47.5,38.5 C45.8431458,38.5 44.5,39.8431458 44.5,41.5 C44.5,43.1568542 45.8431458,44.5 47.5,44.5 Z M45.5,15.5 L48,15.5 C49.3807119,15.5 50.5,16.6123657 50.5,18.0093004 L50.5,23.5 L45.5,23.5 L45.5,15.5 Z M13.5,21.5 C15.1568542,21.5 16.5,20.1568542 16.5,18.5 C16.5,16.8431458 15.1568542,15.5 13.5,15.5 C11.8431458,15.5 10.5,16.8431458 10.5,18.5 C10.5,20.1568542 11.8431458,21.5 13.5,21.5 Z" id="Combined-Shape" transform="translate(30.500000, 30.000000) scale(1, -1) rotate(-90.000000) translate(-30.500000, -30.000000) "></path>
        </g>
      </g>
    </svg>

    <span>{{ texts[ 'empty' ] }}</span>

  </div>

  <button class="workflow-group__add" (click)="addWorkflow()">

    <svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
      <g id="Assets" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="Artboard">
          <g id="add">
            <rect id="bg-copy" fill="#4E9FF8" x="0" y="0" width="20" height="20" rx="10"></rect>
            <path d="M9,9 L5.00247329,9 C4.45576096,9 4,9.44771525 4,10 C4,10.5561352 4.44882258,11 5.00247329,11 L9,11 L9,14.9975267 C9,15.544239 9.44771525,16 10,16 C10.5561352,16 11,15.5511774 11,14.9975267 L11,11 L14.9975267,11 C15.544239,11 16,10.5522847 16,10 C16,9.44386482 15.5511774,9 14.9975267,9 L11,9 L11,5.00247329 C11,4.45576096 10.5522847,4 10,4 C9.44386482,4 9,4.44882258 9,5.00247329 L9,9 Z" id="Combined-Shape" fill="#FFFFFF"></path>
          </g>
        </g>
      </g>
    </svg>

    <span [activeEffect]="'blue'">{{ texts[ 'addBtn' ] }}</span>

  </button>

  <div *ngIf="loading" class="spinner"></div>

</div>