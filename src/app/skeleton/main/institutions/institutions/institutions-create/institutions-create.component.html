<div class="main__scroll" perfect-scrollbar [@FadeInOut]="">

    <div class="institutions">

        <button class="main__back-link"
                (click)="back()"
                [activeEffect]="'blue'">
            {{ texts[ 'backBtn' ] }}
        </button>

        <h1 class="main__title">

            <i class="main__title-icon">
                <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
                     viewBox="0 0 18 18" style="enable-background:new 0 0 18 18;">
                    <style type="text/css">
                        .st0 {
                            fill: #CBCFDA;
                        }
                    </style>
                    <g>
                        <g>
                            <path class="st0" d="M10,8h6c1.1,0,2,0.9,2,2v6c0,1.1-0.9,2-2,2H7.5H2c-1.1,0-2-0.9-2-2V2c0-1.1,0.9-2,2-2h6
			c1.1,0,2,0.9,2,2V8z M2,2v2h2V2H2z M6,2v2h2V2H6z M2,6v2h2V6H2z M6,6v2h2V6H6z M2,10v2h2v-2H2z M6,10v2h2v-2H6z M10,10v2h2v-2H10z
			 M10,14v2h2v-2H10z M6,14v4h2v-4H6z M2,14v2h2v-2H2z M14,14v2h2v-2H14z M14,10v2h2v-2H14z"/>
                        </g>
                    </g>
                </svg>
            </i>

            <span *ngIf="!isEdit">{{ texts[ 'titleCreate' ] }}</span>
            <span *ngIf="isEdit">{{ texts[ 'titleEdit' ] }} Toyota Motor Corporation</span>

        </h1>

        <button class="main__delete-btn"
                *ngIf="isEdit"
                (click)="askToDelete( $event )"
                [activeEffect]="'red'">
            {{ texts[ 'deleteBtn' ] }}
        </button>

        <div class="tabs">

            <button class="tabs__control"
                    [class.active]="activeTab === 'general'"
                    (click)="openTab( 'general' )">

                <i>
                    <svg width="24px" height="24px" viewBox="0 0 24 24">
                        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <g id="general-info" fill="#CBCFDA">
                                <path d="M2,6 C2,4.8954305 2.88772964,4 4,4 C5.1045695,4 6,4.88772964 6,6 C6,7.1045695 5.11227036,8 4,8 C2.8954305,8 2,7.11227036 2,6 Z M8,6 C8,5.44771525 8.44994876,5 9.00684547,5 L20.9931545,5 C21.5492199,5 22,5.44386482 22,6 C22,6.55228475 21.5500512,7 20.9931545,7 L9.00684547,7 C8.45078007,7 8,6.55613518 8,6 Z M2,12 C2,10.8954305 2.88772964,10 4,10 C5.1045695,10 6,10.8877296 6,12 C6,13.1045695 5.11227036,14 4,14 C2.8954305,14 2,13.1122704 2,12 Z M8,12 C8,11.4477153 8.44994876,11 9.00684547,11 L20.9931545,11 C21.5492199,11 22,11.4438648 22,12 C22,12.5522847 21.5500512,13 20.9931545,13 L9.00684547,13 C8.45078007,13 8,12.5561352 8,12 Z M2,18 C2,16.8954305 2.88772964,16 4,16 C5.1045695,16 6,16.8877296 6,18 C6,19.1045695 5.11227036,20 4,20 C2.8954305,20 2,19.1122704 2,18 Z M8,18 C8,17.4477153 8.44994876,17 9.00684547,17 L20.9931545,17 C21.5492199,17 22,17.4438648 22,18 C22,18.5522847 21.5500512,19 20.9931545,19 L9.00684547,19 C8.45078007,19 8,18.5561352 8,18 Z"
                                      id="Combined-Shape"/>
                            </g>
                        </g>
                    </svg>
                </i>

                {{ texts[ 'tabsBtns' ][ 'generalInfo' ] }}

                <span class="tabs__control-note" *ngIf="generalErrorsCount > 0">{{ generalErrorsCount }}</span>

            </button>

            <button class="tabs__control"
                    [class.active]="activeTab === 'contact'"
                    (click)="openTab( 'contact' )">

                <i>
                    <svg width="24px" height="24px" viewBox="0 0 24 24">
                        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <g id="contact-info" fill="#CBCFDA">
                                <path d="M2,5.99922997 C2,3.79051625 3.79246765,2 5.99922997,2 L18.00077,2 C20.2094838,2 22,3.79246765 22,5.99922997 L22,18.00077 C22,20.2094838 20.2075324,22 18.00077,22 L5.99922997,22 C3.79051625,22 2,20.2075324 2,18.00077 L2,5.99922997 Z M17.1955239,17.4050478 C16.96005,17.5714978 16.7013948,17.7183654 16.4256586,17.8260683 C16.1694435,17.9264278 15.9168886,17.9888465 15.652133,18.0206678 C15.5313459,18.0341307 12.7239604,18.2972684 9.24065516,14.8030437 C6.7212067,12.2756973 5.79273198,10.4129267 6.03796644,8.37391503 C6.06602809,8.12056844 6.12825176,7.86599795 6.22951772,7.6004124 C6.33810412,7.32136398 6.48451275,7.0618979 6.6602031,6.83792483 L7.16897308,6.29573865 C7.55207566,5.91143513 8.16455175,5.90042006 8.53423353,6.27003682 L10.3899629,8.1328074 C10.7584246,8.50364807 10.748664,9.11682025 10.3655614,9.50112377 L10.0568833,9.8119935 L9.42854623,10.4398524 C9.46148818,10.4973756 9.49443012,10.5585704 9.5298122,10.6209891 C9.85801154,11.2133551 10.306998,12.0260224 11.1598283,12.8815261 C12.0102184,13.7358059 12.819126,14.184976 13.4096408,14.5142041 C13.4730846,14.5496971 13.5340882,14.5839662 13.5938717,14.6170114 L14.5284468,13.6782828 C14.9115493,13.2952031 15.5240254,13.2829642 15.8937072,13.6525809 L17.7494366,15.5153515 C18.1178983,15.8861922 18.1069176,16.5005883 17.7250351,16.8848918 L17.1955239,17.4050478 Z"
                                      id="Combined-Shape"></path>
                            </g>
                        </g>
                    </svg>
                </i>

                {{ texts[ 'tabsBtns' ][ 'contactInfo' ] }}

                <span class="tabs__control-note" *ngIf="contactErrorsCount > 0">{{ contactErrorsCount }}</span>

            </button>

        </div>

        <form class="main-form"
              [class.failure]="generalErrorsCount > 0 || contactErrorsCount > 0"
              [formGroup]="fg"
              (submit)="submit( fg )"
              *ngIf="fg">

            <div *ngIf="activeTab === 'general'"
                 formGroupName="general"
                 [@tabsAnimation]="activeTab === 'general'">

                <fieldset class="main-field">

                    <label for="name" class="main-field__requared">
                        {{ texts[ 'labels' ][ 'name' ] }}
                    </label>

                    <div class="main-field__inner">

                        <input id="name"
                               name="name"
                               formControlName="name"
                               placeholder="{{ texts[ 'labels' ][ 'name' ] }}">

                        <div class="main-field__invalid">

                            <div>
                                {{texts[ 'filledError' ]}}
                            </div>

                        </div>

                    </div>

                </fieldset>

                <fieldset class="main-field">

                    <label for="description">
                        {{ texts[ 'labels' ][ 'description' ] }}
                    </label>

                    <div class="main-field__inner">

                        <textarea id="description" formControlName="description" placeholder="{{ texts[ 'labels' ][ 'description' ] }}"></textarea>

                    </div>

                </fieldset>

                <div class="main-form__double-field">

                    <fieldset class="main-field">

                        <datepicker-control
                                [label]= "texts[ 'labels' ][ 'activeSince' ]"
                                [controlClassName]="'datepicker-control_1'"
                                [type]="0"
                                [required]="true"
                                formControlName="activateOn"></datepicker-control>

                        <div class="main-field__invalid">

                            <div>
                                {{ texts[ 'filledError' ] }}
                            </div>

                        </div>

                    </fieldset>

                    <fieldset class="main-field">

                        <datepicker-control
                                [label]= "texts[ 'labels' ][ 'activeTo' ]"
                                [controlClassName]="'datepicker-control_1'"
                                [type]="0"
                                [required]="true"
                                formControlName="expiryOn"></datepicker-control>

                        <div class="main-field__invalid">

                            <div>
                                {{ texts[ 'filledError' ] }}
                            </div>

                        </div>

                    </fieldset>

                </div>

            </div>

            <div *ngIf="activeTab === 'contact'"
                 formGroupName="institutionDetail"
                 [@tabsAnimation]="activeTab === 'contact'">

                <!--main-form__group-->
                <div class="main-form__group">

                    <fieldset class="main-field">

                        <label for="email">
                            {{ texts[ 'labels' ][ 'email' ] }}
                        </label>

                        <div class="main-field__inner">

                            <input id="email"
                                   formControlName="email"
                                   name="email"
                                   placeholder="{{ texts[ 'labels' ][ 'email' ] }}">

                            <div class="main-field__invalid">

                                <div>
                                    {{texts[ 'emailValidationError' ]}}
                                </div>

                            </div>

                        </div>

                    </fieldset>

                    <div class="main-form__double-field">

                        <fieldset class="main-field">

                            <label for="phone">
                                {{ texts[ 'labels' ][ 'phone' ] }}
                            </label>

                            <input id="phone" type="tel"
                                   name="phone"
                                   formControlName="phone"
                                   (keypress)="phoneOnly( $event )"
                                   placeholder="{{ texts[ 'labels' ][ 'phone' ] }}">

                        </fieldset>

                        <fieldset class="main-field">

                            <label for="fax">
                                {{ texts[ 'labels' ][ 'fax' ] }}
                            </label>

                            <input id="fax" type="tel"
                                   name="fax"
                                   formControlName="fax"
                                   (keypress)="phoneOnly( $event )"
                                   placeholder="{{ texts[ 'labels' ][ 'fax' ] }}">


                        </fieldset>

                    </div>

                </div>
                <!--/main-form__group-->

                <fieldset class="main-field">

                    <select-control
                            [options]="countriesOptions"
                            formControlName="country"
                            [label]= "texts[ 'labels' ][ 'country' ]"
                            [className]="'default-select'">
                    </select-control>

                </fieldset>

                <fieldset class="main-field">

                    <label for="addressOne">
                        {{ texts[ 'labels' ][ 'addressLineOne' ] }}
                    </label>

                    <div class="main-field__inner">

                        <input id="addressOne"
                               formControlName="address1"
                               name="addressOne"
                               placeholder="{{ texts[ 'labels' ][ 'addressLineOne' ] }}">

                    </div>

                </fieldset>

                <fieldset class="main-field">

                    <label for="addressOne">
                        {{ texts[ 'labels' ][ 'addressLineTwo' ] }}
                    </label>

                    <div class="main-field__inner">

                        <input id="addressTwo"
                               formControlName="address1"
                               name="addressTwo"
                               placeholder="{{ texts[ 'labels' ][ 'addressLineTwo' ] }}">

                    </div>

                </fieldset>

                <div class="main-form__double-field">

                    <fieldset class="main-field">

                        <label for="city">
                            {{ texts[ 'labels' ][ 'city' ] }}
                        </label>

                        <input id="city"
                               formControlName="city"
                               name="city"
                               placeholder="{{ texts[ 'labels' ][ 'city' ] }}">

                    </fieldset>

                    <fieldset class="main-field">

                        <select-control
                                [options]="statesOptions"
                                formControlName="countryState"
                                [label]= "texts[ 'labels' ][ 'state' ]"
                                [className]="'default-select'">
                        </select-control>

                    </fieldset>

                </div>

                <div class="main-form__double-field">

                    <fieldset class="main-field">

                        <label for="zipCode">
                            {{ texts[ 'labels' ][ 'zipCode' ] }}
                        </label>

                        <input id="zipCode"
                               formControlName="zip"
                               name="zipCode"
                               placeholder="{{ texts[ 'labels' ][ 'zipCode' ] }}">


                    </fieldset>

                </div>

            </div>

            <div class="main-form__failure">

                <div *ngIf="generalErrorsCount > 0 || contactErrorsCount > 0">
                    {{ texts[ 'errorMessage' ] }}
                </div>

            </div>

            <div class="main-form__btns">

                <button class="btn"
                        *ngIf="!isEdit"
                        [dropEffect]="'#2271ca'">
                    <span class="btn__inner">{{texts[ 'createBtn' ]}}</span>
                </button>

                <button class="btn"
                        *ngIf="isEdit"
                        [dropEffect]="'#2271ca'">
                    <span class="btn__inner">{{texts[ 'saveBtn' ]}}</span>
                </button>

                <button type="button"
                        class="main-form__link"
                        (click)="cancel( $event )"
                        [activeEffect]="'blue'">
                    {{ texts[ 'cancelBtn' ] }}
                </button>

            </div>

        </form>

    </div>

    <div class="spinner spinner_main" *ngIf="loaded" [@FadeInOut]="loaded"></div>

</div>
